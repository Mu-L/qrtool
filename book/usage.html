<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Usage :: qrtool Documentation</title>
<link rel=canonical href=https://sorairolake.github.io/qrtool/book/usage.html><meta name=generator content="Antora 3.1.8"><link rel=stylesheet href=../_/css/site.css><body class=article><header class=header><nav class=navbar><div class=navbar-brand><a class=navbar-item href=https://sorairolake.github.io/qrtool>qrtool Documentation</a><div class="navbar-item search hide-for-print"><div id=search-field class=field><input id=search-input placeholder="Search the docs"></div></div><button class=navbar-burger aria-controls=topbar-nav aria-expanded=false aria-label="Toggle main menu">
<span></span>
<span></span>
<span></span></button></div><div id=topbar-nav class=navbar-menu><div class=navbar-end><a class=navbar-item href=https://sorairolake.github.io/qrtool>Home</a>
<a class=navbar-item href=https://github.com/sorairolake/qrtool target=_blank>Repository</a></div></div></nav></header><div class=body><div class=nav-container data-component=book data-version><aside class=nav><div class=panels><div class="nav-panel-menu is-active" data-panel=menu><nav class=nav-menu><button class=nav-menu-toggle aria-label="Toggle expand/collapse all" style=display:none></button><h3 class=title><a href=index.html>qrtool</a></h3><ul class=nav-list><li class=nav-item data-depth=0><ul class=nav-list><li class=nav-item data-depth=1><a class=nav-link href=install.html>Installation</a><li class=nav-item data-depth=1><a class=nav-link href=build.html>How to Build</a><li class="nav-item is-current-page" data-depth=1><a class=nav-link href=usage.html>Usage</a></ul><li class=nav-item data-depth=0><button class=nav-item-toggle></button>
<span class=nav-text>Man pages</span><ul class=nav-list><li class=nav-item data-depth=1><a class=nav-link href=man/man1/qrtool.1.html><code>qrtool(1)</code></a><li class=nav-item data-depth=1><a class=nav-link href=man/man1/qrtool-encode.1.html><code>qrtool-encode(1)</code></a><li class=nav-item data-depth=1><a class=nav-link href=man/man1/qrtool-decode.1.html><code>qrtool-decode(1)</code></a><li class=nav-item data-depth=1><a class=nav-link href=man/man1/qrtool-help.1.html><code>qrtool-help(1)</code></a></ul><li class=nav-item data-depth=0><button class=nav-item-toggle></button>
<span class=nav-text>Resources</span><ul class=nav-list><li class=nav-item data-depth=1><a class=nav-link href=changelog.html>Changelog</a><li class=nav-item data-depth=1><a class=nav-link href=contributing.html>Contribution Guide</a><li class=nav-item data-depth=1><a class=nav-link href=authors.html>List of Authors</a><li class=nav-item data-depth=1><a class=nav-link href=license.html>License</a></ul></ul></nav></div><div class=nav-panel-explore data-panel=explore><div class=context><span class=title>qrtool</span>
<span class=version></span></div><ul class=components><li class="component is-current"><div class=title><a href=index.html>qrtool</a></div></ul></div></div></aside></div><main class=article><div class=toolbar role=navigation><button class=nav-toggle></button>
<a href=index.html class=home-link></a><nav class=breadcrumbs aria-label=breadcrumbs><ul><li><a href=index.html>qrtool</a><li><a href=usage.html>Usage</a></ul></nav><div class=edit-this-page><a href=https://github.com/sorairolake/qrtool/edit/HEAD/docs/book/modules/ROOT/pages/usage.adoc>Edit this Page</a></div></div><div class=content><aside class="toc sidebar" data-title=Contents data-levels=2><div class=toc-menu></div></aside><article class=doc><h1 class=page>Usage</h1><div class=sect1><h2 id=_basic_usage><a class=anchor href=#_basic_usage></a>Basic usage</h2><div class=sectionbody><div class=listingblock><div class=title>Encode a string in a QR code</div><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool encode "QR code" &gt; output.png</code></pre></div></div><div class=imageblock><div class=content><img src=_images/basic.png alt=Output></div><div class=title>Figure 1. Generate this image</div></div><div class=listingblock><div class=title>Decode a QR code from this image</div><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool decode output.png</code></pre></div></div><div class=literalblock><div class=title>Output</div><div class=content><pre>QR code</pre></div></div></div></div><div class=sect1><h2 id=_svg_generation><a class=anchor href=#_svg_generation></a>SVG generation</h2><div class=sectionbody><div class=paragraph><p>Use <code>-t</code> option to change the format of the generated image. The format is
<code>png</code> (default), <code>svg</code> or <code>terminal</code> (to the terminal as UTF-8 string).</div><div class=listingblock><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool encode -o output.svg -t svg "QR code"</code></pre></div></div><div class=imageblock><div class=content><img src=_images/decode.svg alt=Output></div><div class=title>Figure 2. Generate this image</div></div></div></div><div class=sect1><h2 id=_micro_qr_code_generation><a class=anchor href=#_micro_qr_code_generation></a>Micro QR code generation</h2><div class=sectionbody><div class=paragraph><p>Use <code>--variant</code> option to change the variant of the generated QR code. The
variant is <code>normal</code> (default) or <code>micro</code> (Micro QR code).</div><div class=listingblock><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool encode -v 3 --variant micro "QR code" &gt; output.png</code></pre></div></div><div class=imageblock><div class=content><img src=_images/micro.png alt=Output></div><div class=title>Figure 3. Generate this image</div></div></div></div><div class=sect1><h2 id=_colored_output><a class=anchor href=#_colored_output></a>Colored output</h2><div class=sectionbody><div class=paragraph><p>Use <code>--foreground</code> and <code>--background</code> options to change the foreground and
background colors of the generated image. These options takes a
<a href=https://www.w3.org/TR/css-color-4/>CSS color string</a> such as <code>brown</code>, <code>#a52a2a</code> or
<code>rgb(165 42 42)</code>. The default foreground color is black and the background
color is white of CSS&#8217;s named colors.</div><div class=listingblock><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool encode --foreground brown --background lightslategray "QR code" &gt; output.png</code></pre></div></div><div class=imageblock><div class=content><img src=_images/rgb.png alt=Output></div><div class=title>Figure 4. Generate this image</div></div></div></div><div class=sect1><h2 id=_supported_input_image_formats><a class=anchor href=#_supported_input_image_formats></a>Supported input image formats</h2><div class=sectionbody><div class=ulist><div class=title><code>qrtool decode</code> supports decoding a QR code from the following image formats</div><ul><li><p><a href=https://en.wikipedia.org/wiki/BMP_file_format>BMP</a><li><p><a href=https://en.wikipedia.org/wiki/DirectDraw_Surface>DDS</a><li><p><a href=https://tools.suckless.org/farbfeld/>Farbfeld</a><li><p><a href=https://en.wikipedia.org/wiki/GIF>GIF</a><li><p><a href=https://en.wikipedia.org/wiki/RGBE_image_format>Radiance RGBE</a><li><p><a href=https://en.wikipedia.org/wiki/ICO_(file_format)>ICO</a><sup class=footnote>[<a id=_footnoteref_1 class=footnote href=#_footnotedef_1 title="View footnote.">1</a>]</sup><li><p><a href=https://jpeg.org/jpeg/>JPEG</a><li><p><a href=https://openexr.com/>OpenEXR</a><li><p><a href=https://en.wikipedia.org/wiki/PNG>PNG</a><li><p><a href=https://netpbm.sourceforge.net/doc/pnm.html>PNM</a><li><p><a href=https://qoiformat.org/>QOI</a><li><p><a href=https://www.w3.org/Graphics/SVG/>SVG</a><sup class=footnote>[<a id=_footnoteref_2 class=footnote href=#_footnotedef_2 title="View footnote.">2</a>]</sup><li><p><a href=https://en.wikipedia.org/wiki/Truevision_TGA>TGA</a><li><p><a href=https://en.wikipedia.org/wiki/TIFF>TIFF</a><li><p><a href=https://developers.google.com/speed/webp/>WebP</a></ul></div><div class=paragraph><p>To support decoding from SVG image, the <code>decode-from-svg</code> feature must be
enabled at compile time. Note that the SVG image is rasterized before scanning.</div><div class=paragraph><p>Image formats other than PNG can be disabled by disabling the <code>default</code>
feature, and can be enabled individually.</div><div class=paragraph><p>Use <code>-t</code> option to specify the image format. If this option is not specified,
the image format is determined based on the extension or the magic number.</div><div class=imageblock><div class=content><img src=_images/lossless.webp alt=Input></div><div class=title>Figure 5. Input this WebP image</div></div><div class=listingblock><div class=title>Decode a QR code from the WebP image</div><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool decode input.webp
# or
qrtool decode -t webp input.webp</code></pre></div></div><div class=literalblock><div class=title>Output</div><div class=content><pre>QR code</pre></div></div></div></div><div class=sect1><h2 id=_generate_shell_completion><a class=anchor href=#_generate_shell_completion></a>Generate shell completion</h2><div class=sectionbody><div class=paragraph><p><code>--generate-completion</code> option generates shell completions to stdout.</div><div class=ulist><div class=title>The following shells are supported</div><ul><li><p><code>bash</code><li><p><code>elvish</code><li><p><code>fish</code><li><p><code>nushell</code><li><p><code>powershell</code><li><p><code>zsh</code></ul></div><div class=listingblock><div class=title>Example</div><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool --generate-completion bash &gt; qrtool.bash</code></pre></div></div></div></div><div class=sect1><h2 id=_integration_with_other_programs><a class=anchor href=#_integration_with_other_programs></a>Integration with other programs</h2><div class=sectionbody><div class=paragraph><p>Both <code>qrtool encode</code> and <code>qrtool decode</code> can read from stdin and output to
stdout.</div><div class=sect2><h3 id=_optimize_the_output_image><a class=anchor href=#_optimize_the_output_image></a>Optimize the output image</h3><div class=paragraph><p>The image output by <code>qrtool encode</code> is not optimized. For example, a PNG image
is always output as the 32-bit RGBA format. If you want to reduce the image
size or optimize the image, use an optimizer such as
<a href=https://github.com/shssoichiro/oxipng><code>oxipng</code></a> or <a href=https://github.com/RazrFalcon/svgcleaner><code>svgcleaner</code></a>.</div><div class=listingblock><div class=title>Optimize the output PNG image</div><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool encode "QR code" | oxipng - &gt; output.png</code></pre></div></div><div class=listingblock><div class=title>Optimize the output SVG image</div><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>qrtool encode -t svg "QR code" | svgcleaner -c - &gt; output.svg</code></pre></div></div><div class="admonitionblock tip"><table><tr><td class=icon><i class="fa icon-tip" title=Tip></i><td class=content>If the <code>optimize-output-png</code> feature is enabled, you can also use
<code>--optimize-png</code> option and <code>--zopfli</code> option of this command to optimize
output PNG image.</table></div></div><div class=sect2><h3 id=_reading_and_writing_unsupported_image_formats><a class=anchor href=#_reading_and_writing_unsupported_image_formats></a>Reading and writing unsupported image formats</h3><div class=paragraph><p>If you want to save the encoded image in an image format other than PNG or SVG,
or decode an image in an unsupported image format, convert it using a converter
such as <a href=https://imagemagick.org/>ImageMagick</a>.</div><div class=listingblock><div class=title>Read <code>Cargo.toml</code> from stdin and save the encoded result as a JPEG XL image</div><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>cat Cargo.toml | qrtool encode | magick png:- output.jxl</code></pre></div></div><div class=listingblock><div class=title>Decode this image and print the result using <code>bat</code></div><div class=content><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang=sh>magick output.jxl png:- | qrtool decode | bat -l toml</code></pre></div></div></div></div></div><div id=footnotes><hr><div class=footnote id=_footnotedef_1><a href=#_footnoteref_1>1</a>. CUR is also supported.</div><div class=footnote id=_footnotedef_2><a href=#_footnoteref_2>2</a>. SVGZ is also supported.</div></div></article></div></main></div><footer class=footer><p>&copy; 2022&ndash;2024 Shun Sakai &#183; <a href=https://creativecommons.org/licenses/by/4.0/ target=_blank>CC BY 4.0</a><p>Powered by <a href=https://antora.org/ target=_blank>Antora</a> & <a href=https://gitlab.com/antora/antora-ui-default target=_blank>Antora Default UI</a></footer><script id=site-script src=../_/js/site.js data-ui-root-path=../_></script><script async src=../_/js/vendor/highlight.js></script><script src=../_/js/vendor/lunr.js></script><script src=../_/js/search-ui.js id=search-ui-script data-site-root-path=.. data-snippet-length=100 data-stylesheet=../_/css/search.css></script><script async src=../search-index.js></script>